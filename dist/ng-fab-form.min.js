angular.module("ngFabForm",["ngMessages"]);angular.module("ngFabForm").directive("form",["ngFabFormDirective",function(a){return a}]);angular.module("ngFabForm").directive("input",["ngFabFormValidationsDirective",function(a){return a}]);angular.module("ngFabForm").directive("textarea",["ngFabFormValidationsDirective",function(a){return a}]);angular.module("ngFabForm").directive("select",["ngFabFormValidationsDirective",function(a){return a}]);angular.module("ngFabForm").provider("ngFabForm",function ngFabFormProvider(){var b={validationsTemplate:"default-validation-msgs.html",preventInvalidSubmit:true,preventDoubleSubmit:true,preventDoubleSubmitTimeoutLength:1000,setFormDirtyOnSubmit:true,scrollToAndFocusFirstErrorOnSubmit:true,scrollAnimationTime:500,scrollOffset:-100,disabledForms:true,globalFabFormDisable:false,setNovalidate:true,setNamesByNgModel:true,setAsteriskForRequiredLabel:false,asteriskStr:"*",validationMsgPrefix:"validationMsg",emailRegex:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/i,textOnlyRegex:/^[a-zA-Z\u00C0-\u00FF\sÂ´`']*$/,cpfRegex:/[0-9]{3}\.?[0-9]{3}\.?[0-9]{3}\-?[0-9]{2}/,watchForFormCtrl:false,formChangeEvent:"NG_FAB_FORM_OPTIONS_CHANGED",createMessageElTplFn:function(g,f){return'<li ng-message="'+g+'">'+f+"</li>"}};function c(h,g){var f=angular.element(angular.element("<div/>").html(h));angular.forEach(g,function(j,n){var l=new RegExp(b.validationMsgPrefix);if(n.match(l)){var i=n.replace(b.validationMsgPrefix,"");i=i.charAt(0).toLowerCase()+i.slice(1);var m=f[0].querySelector('[ng-message="'+i+'"]');if(m){angular.element(m).html(j)}else{if(!m&&b.createMessageElTplFn){var k=f[0].querySelector("[ng-message]");if(k){angular.element(k).after(b.createMessageElTplFn(i,j))}}}}});return f}var d=function(h,g,f){if(f.type==="checkbox"||f.type==="radio"){g.parent().after(h)}else{g.after(h)}};var a=(function(){function f(i,h,k,j){if((i/=j/2)<1){return k/2*i*i+h}return -k/2*((--i)*(i-2)-1)+h}function g(l,k){var i=500;var h=Math.abs(l);var j=k/10;return k*h/i+j}return function(r,q,l){function k(){h+=p;var s=f(h,i,n,j);window.scrollTo(o,s);if(h<j){setTimeout(k,p)}else{r.focus()}}var m=r.getBoundingClientRect().top+parseInt(l),o=r.getBoundingClientRect().left;var j=g(m,q);var i=window.pageYOffset,n=m,h=0,p=20;if(n===0){r.focus();return}k()}}());var e;return{extendConfig:function(f){b=angular.extend(b,f)},setInsertErrorTplFn:function(f){d=f},setScrollToFn:function(f){a=f},setCustomValidatorsFn:function(f){e=f},$get:function(){return{insertErrorTpl:d,addCustomValidations:c,customValidators:e,scrollTo:a,config:b}}}});angular.module("ngFabForm").run(["$templateCache",function(a){a.put("default-validation-msgs.html",'<div class="validation" ng-show="attrs.required==\'\'|| attrs.required"><ul class="list-unstyled validation-errors" ng-messages="field.$error" ng-show="field.$invalid && (field.$touched || field.$dirty || form.$triedSubmit)"><li ng-message="required">This field is required</li><li ng-message="ngFabEnsureExpression">Not valid condition</li><li ng-message="password">Please enter a valid password</li><li ng-message="email">Please enter a valid e-mail</li><li ng-message="pattern">Invalid input format</li><li ng-message="date">Please enter a valid date</li><li ng-message="time">Please enter a valid time</li><li ng-message="datetime">Please enter a valid date and time</li><li ng-message="datetime-local">Please enter a valid date and time</li><li ng-message="number">This field must be numeric</li><li ng-message="color">Please enter a valid color</li><li ng-message="range">Please enter a valid range</li><li ng-message="month">Please enter a valid month</li><li ng-message="url">Please enter a valid URL</li><li ng-message="file">Invalid file</li><li ng-message="minlength">Please use at least {{ attrs.minlength }} characters</li><li ng-message="maxlength">Please do not exceed {{ attrs.maxlength }} characters</li><li ng-message="ngFabMatch">The {{ attrs.type ===\'password\'? \'passwords\' : \'values\' }} should match</li><li ng-if="attrs.type == \'time\' " ng-message="min">The time provided should after {{ attrs.min |date: \'HH:MM\' }}</li><li ng-message="max" ng-if="attrs.type == \'time\' ">The time provided should be before {{attrs.max |date: \'HH:MM\'}}</li><li ng-message="min" ng-if="attrs.type == \'date\' ">The date provided should be after {{attrs.min |date:\'dd.MM.yy\'}}</li><li ng-message="max" ng-if="attrs.type == \'date\' ">The date provided should be before {{attrs.max |date: \'dd.MM.yy\'}}</li><li ng-message="min" ng-if="attrs.type === \'number\' ">The number provided should be at least {{attrs.min}}</li><li ng-message="max" ng-if="attrs.type === \'number\' ">The number provided should be at max {{attrs.max}}</li></ul><div class="validation-success" ng-show="field.$valid && !field.$invalid"></div></div>');a.put("pt-br-validation-msgs.html",'<div class="validation" ng-show="attrs.required==\'\'|| attrs.required">\r\n    <ul class="list-unstyled validation-errors" ng-messages="field.$error" ng-show="field.$invalid && (field.$touched || field.$dirty || form.$triedSubmit)">\r\n        <li ng-message="required">Este campo \u00E9 Obrigat\u00F3rio</li>\r\n        <li ng-message="ngFabEnsureExpression">Condi\u00E7\u00E3o n\u00E3o \u00E9 v\u00E1lida</li>\r\n        <li ng-message="password">Por favor entre com uma senha v\u00E1lida\r\n        </li>\r\n        <li ng-message="email">Por favor entre com um e-mail v\u00E1lido</li>\r\n        <li ng-message="pattern">Formato de entrada inv\u00E1lido</li>\r\n        <li ng-message="date">Por favor entre com uma data v\u00E1lida</li>\r\n        <li ng-message="time">Please enter a valid time</li>\r\n        <li ng-message="datetime">Please enter a valid date and time</li>\r\n        <li ng-message="datetime-local">Please enter a valid date and time</li>\r\n        <li ng-message="number">Este campo deve ser num\u00E9rico</li>\r\n        <li ng-message="color">Insira uma por v\u00E1lida</li>\r\n        <li ng-message="range">Insira um valor inteiro</li>\r\n        <li ng-message="month">Insira um m\u00EAs v\u00E1lido</li>\r\n        <li ng-message="url">Insira uma URL v\u00E1lida</li>\r\n        <li ng-message="file">Arquivo Inv\u00E1lido</li>\r\n        <li ng-message="minlength">Por favor, use pelo menos {{ attrs.minlength }} caracteres</li>\r\n        <li ng-message="maxlength">Por favor, n\u00E3o exceda {{ attrs.maxlength }} caracteres</li>\r\n        <li ng-message="ngFabMatch">{{ attrs.type ===\'password\'? \'A senha\' : \'O valor\' }} deve corresponder</li>\r\n        <li ng-if="attrs.type == \'time\' " ng-message="min">O tempo previsto deve ser {{ attrs.min |date: \'HH:MM\' }}\r\n        </li>\r\n        <li ng-message="max" ng-if="attrs.type == \'time\' ">O tempo previsto deve ser anterior ao {{attrs.max |date: \'HH:MM\'}}\r\n        </li>\r\n        <li ng-message="min" ng-if="attrs.type == \'date\' ">A data prevista deve ser posterior \u00E0 {{attrs.min |date:\'dd.MM.yy\'}}\r\n        </li>\r\n        <li ng-message="max" ng-if="attrs.type == \'date\' ">A data prevista deve ser anterior \u00E0 {{attrs.max |date: \'dd.MM.yy\'}}\r\n        </li>\r\n        <li ng-message="min" ng-if="attrs.type === \'number\' ">O n\u00FAmero fornecido deve ser pelo menos {{attrs.min}}\r\n        </li>\r\n        <li ng-message="max" ng-if="attrs.type === \'number\' ">O n\u00FAmero fornecido deve estar no m\u00E1ximo {{attrs.max}}\r\n        </li>\r\n        <li ng-message="CnpjInvalid">O CNPJ digitado \u00E9 inv\u00E1lido</li>\r\n        <li ng-message="CnpjLenght">O CNPJ digitado est\u00E1 incompleto</li>\r\n        <li ng-message="CnpjDebug">O CNPJ digitado \u00E9 exclusivo para Debug</li>\r\n        <li ng-message="Cnpj">O CNPJ digitado \u00E9 inv\u00E1lido</li>\r\n         <li ng-message="CpfIncomplete">O CPF Informado esta incompleto</li>\r\n        <li ng-message="CpfInvalid">O CPF Informado \u00E9 inv\u00E1lido</li>\r\n        <li ng-message="MinLength">Por favor digite pelo menos {{ attrs.minlength }} caracteres</li>\r\n    </ul>\r\n    <div class="validation-success" ng-show="field.$valid && !field.$invalid">\r\n    </div>\r\n</div>\r\n')}]);angular.module("ngFabForm").factory("ngFabFormValidationsDirective",["ngFabForm","$compile","$templateRequest",function(e,d,b){function a(m){var k=m.el;var h=m.cfg;var l=m.formCtrl;var j=m.ngModelCtrl;var i=m.attrs;var g=m.scope;if(m.currentValidationVars.tpl&&(Object.keys(m.currentValidationVars.tpl).length!==0)){angular.element(m.currentValidationVars.tpl).remove()}b(h.validationsTemplate).then(function f(o){var n=g.$new(true);m.currentValidationVars.privateScope=n;o=e.addCustomValidations(o,i);n.attrs=i;n.form=l;n.field=j;var p=d(o.children())(n);m.currentValidationVars.tpl=p[0];e.insertErrorTpl(p[0],k,i)})}function c(k,h,f){var m=document.querySelectorAll('label[for="'+h.name+'"]');if(!m||m.length<1){var l=k[0].previousElementSibling;if(l&&l.tagName==="LABEL"){m=[l]}}if(m&&m.length>0&&h.type!=="radio"&&h.type!=="checkbox"){for(var j=0;j<m.length;j++){var g=m[j];if(g.textContent.slice(-f.asteriskStr.length)!==f.asteriskStr){g.textContent=g.textContent+f.asteriskStr}}}}return{restrict:"E",require:"?ngModel",compile:function(g,f){if(f.type){if(f.type.toLowerCase()==="submit"||f.type.toLowerCase()==="button"){return}}if(e.config.setNamesByNgModel&&f.ngModel&&!f.name&&!e.config.globalFabFormDisable){g.attr("name",f.ngModel);f.name=f.ngModel}return function(r,i,o,h){var k;var n;var l;var q;var m={tpl:undefined,privateScope:undefined};function j(s){if(h&&k.validationsTemplate&&((Object.keys(h.$validators).length!==0)||(Object.keys(h.$asyncValidators).length!==0))&&(!s||k.validationsTemplate!==s.validationsTemplate)){a({scope:r,el:i,cfg:k,formCtrl:n,ngModelCtrl:h,attrs:o,currentValidationVars:m})}else{if(!k.validationsTemplate&&m.tpl&&(Object.keys(m.tpl).length!==0)){m.privateScope.$destroy();angular.element(m.tpl).remove()}}if(k.setAsteriskForRequiredLabel&&o.required===true&&(!s||k.setAsteriskForRequiredLabel!==s.setAsteriskForRequiredLabel||k.asteriskStr!==s.asteriskStr)){c(i,o,k)}}function p(){r.$evalAsync(function(){n=i.controller("form");if(n&&h){if(!k){k=n.ngFabFormConfig}if(!k){return}if(k.emailRegex&&o.type==="email"){h.$validators.email=function(s){return h.$isEmpty(s)||k.emailRegex.test(s)}}if(k.cpfRegex&&o.type==="Cpf"){h.$validators.Cpf=function(t){function s(z){function w(F){var C=[10,9,8,7,6,5,4,3,2];var E=0,G;for(var D=0;D<9;D++){E+=F[D]*C[D]}G=((E%11)<2)?0:(11-(E%11));return G}function v(F){var C=[11,10,9,8,7,6,5,4,3,2];var E=0,G;for(var D=0;D<10;D++){E+=F[D]*C[D]}G=((E%11)<2)?0:(11-(E%11));return G}if(z.length>=11){h.$setValidity("CpfIncomplete",true);var y=z.replace(/\D+/g,"");var A=w(y.substr(0,9));var x=v(y.substr(0,10));var u=y.substr(9,2);var B=""+A+x;if(u===B){h.$setValidity("CpfInvalid",true)}else{h.$setValidity("CpfInvalid",false)}}else{h.$setValidity("CpfIncomplete",false)}return z}return h.$isEmpty(t)||h.$parsers.push(s)}}if(o.type==="Cnpj"){h.$validators.Cnpj=function(t){function s(C){var A=C;var y=A;var u,z,E,x,w,B,D,v;v=1;if(y.length<14&&y.length<15){h.$setValidity("CnpjDebug",true);h.$setValidity("CnpjInvalid",true);h.$setValidity("CnpjLenght",false);return C}for(x=0;x<y.length-1;x++){if(y.charAt(x)!=y.charAt(x+1)){v=0;break}}if(!v){D=y.length-2;u=y.substring(0,D);z=y.substring(D);E=0;B=D-7;for(x=D;x>=1;x--){E+=u.charAt(D-x)*B--;if(B<2){B=9}}}else{h.$setValidity("CnpjLenght",true);h.$setValidity("CnpjInvalid",true);h.$setValidity("CnpjDebug",false);return C}w=E%11<2?0:11-E%11;if(w!=z.charAt(0)){h.$setValidity("CnpjDebug",true);h.$setValidity("CnpjInvalid",false);return C}D=D+1;u=y.substring(0,D);E=0;B=D-7;for(x=D;x>=1;x--){E+=u.charAt(D-x)*B--;if(B<2){B=9}}w=E%11<2?0:11-E%11;if(w!=z.charAt(1)){h.$setValidity("CnpjInvalid",false);return C}else{h.$setValidity("CnpjInvalid",true);h.$setValidity("CnpjDebug",true);h.$setValidity("CnpjLenght",true);return C}}return h.$isEmpty(t)||h.$parsers.push(s)}}if(e.customValidators){e.customValidators(h,o)}j();l=r.$on(e.formChangeEvent,function(u,t,s){k=t;j(s)})}})}if(e.config.watchForFormCtrl){q=r.$watch(function(){return i.controller("form")},function(s){if(s){q();p()}})}else{p()}r.$on("$destroy",function(){if(m&&m.privateScope){m.privateScope.$destroy()}})}}}}]);angular.module("ngFabForm").directive("ngFabEnsureExpression",["$http","$parse",function(b,a){return{require:"ngModel",link:function(e,f,d,c){e.$watch(d.ngModel,function(){var g=a(d.ngFabEnsureExpression)(e);c.$setValidity("ngFabEnsureExpression",g);c.$validate()})}}}]);angular.module("ngFabForm").directive("ngFabMatch",function match(){return{require:"ngModel",restrict:"A",scope:{ngFabMatch:"="},link:function(c,b,a,d){d.$validators.ngFabMatch=function(e){return Boolean(e)&&e==c.ngFabMatch};c.$watch("ngFabMatch",function(){d.$validate()})}}});angular.module("ngFabForm").directive("ngFabResetFormOn",function match(){return{require:"^form",restrict:"A",scope:{ngFabResetFormOn:"@",doNotClearInputs:"@"},link:function(c,b,a,d){if(!a.ngFabResetFormOn){a.ngFabResetFormOn="click"}b.on(a.ngFabResetFormOn,function(){if(a.doNotClearInputs){d.$resetForm()}else{d.$resetForm(true)}c.$apply()})}}});angular.module("ngFabForm").factory("ngFabFormDirective",["$compile","$timeout","ngFabForm",function(b,a,e){function f(g){g.preventDefault();g.stopPropagation();g.stopImmediatePropagation()}function c(i,h){if(h.disableForm){i.contents().wrap("<fieldset>");var g=i.children();h.$observe("disableForm",function(){if(h.disableForm==="true"||h.disableForm===true){g.attr("disabled",true)}else{g.attr("disabled",false)}})}}function d(j,k,i,h){var g=j[0].querySelector(".ng-invalid");if(g&&k.$invalid){e.scrollTo(g,parseInt(i),h)}}return{restrict:"EAC",scope:false,require:"?^form",compile:function(j,i){var h=angular.copy(e.config),g;if(h.globalFabFormDisable===true&&angular.isUndefined(i.ngFabForm)){return}if(!i.novalidate&&h.setNovalidate){j.attr("novalidate",true);i.novalidate=true}return{pre:function(m,l,k,n){l.bind("submit",function(o){if(h.setFormDirtyOnSubmit){m.$apply(function(){n.$triedSubmit=true})}if(h.preventInvalidSubmit&&!n.$valid){f(o)}else{if(h.preventDoubleSubmit){if(n.$preventDoubleSubmit){f(o)}if(g){a.cancel(g)}n.$preventDoubleSubmit=true;g=a(function(){n.$preventDoubleSubmit=false},h.preventDoubleSubmitTimeoutLength)}}if(h.scrollToAndFocusFirstErrorOnSubmit){d(l,n,h.scrollAnimationTime,h.scrollOffset)}})},post:function(m,l,k,n){n.$triedSubmit=false;n.$preventDoubleSubmit=false;n.ngFabFormConfig=h;n.$resetForm=function(o){if(o===true){var q=l[0].querySelectorAll("input, select");for(var p=0;p<q.length;p++){var r=angular.element(q[p]);var s=r.controller("ngModel");if(s){s.$setViewValue("");s.$render()}}}n.$triedSubmit=false;n.$setPristine();n.$setUntouched()};if(h.disabledForms){c(l,k)}if(k.ngFabFormOptions){m.$watch(k.ngFabFormOptions,function(p){if(p){var o=angular.copy(h);h=n.ngFabFormConfig=angular.extend(h,p);m.$broadcast(e.formChangeEvent,h,o)}},true)}m.$on("$destroy",function(){if(g){a.cancel(g)}})}}}}}]);angular.module("ngFabForm").directive("ngForm",["ngFabFormDirective",function(a){return a}]);